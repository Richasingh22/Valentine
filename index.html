<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Will You Be My Valentine?</title>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
            background-color: #ffe4e1;
            font-family: 'Comic Sans MS', cursive, sans-serif;
            text-align: center;
            overflow: hidden;
            touch-action: manipulation;
        }
        #container { padding: 20px; }
        img { width: 230px; border-radius: 20px; margin-bottom: 20px; box-shadow: 0 8px 15px rgba(0,0,0,0.1); }
        h1 { color: #d02090; font-size: 1.8rem; padding: 0 10px; }
        .buttons { display: flex; gap: 20px; justify-content: center; align-items: center; margin-top: 20px; min-height: 100px; position: relative; }
        button {
            padding: 15px 25px;
            font-size: 1.2rem;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: 0.3s;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }
        #yesButton { background-color: #4caf50; color: white; z-index: 10; }
        #noButton { background-color: #f44336; color: white; position: relative; }
        .hidden { display: none; }
        
        /* Music Start Overlay */
        #music-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #ffe4e1; display: flex; flex-direction: column;
            align-items: center; justify-content: center; z-index: 100;
        }
    </style>
</head>
<body>

    <audio id="bgMusic" loop>
        <source src="https://www.bensound.com/bensound-music/bensound-love.mp3" type="audio/mpeg">
    </audio>

    <div id="music-overlay">
        <h1>For You... ‚ù§Ô∏è</h1>
        <button onclick="startExperience()" style="background: #d02090; color: white;">Open Message</button>
    </div>

    <div id="question-page" class="hidden">
        <img id="main-gif" src="https://media.tenor.com/97S2V7-BfS8AAAAi/peach-goma-peach-and-goma.gif" alt="Waiting">
        <h1 id="question">Will you be my Valentine? üíñ</h1>
        <div class="buttons">
            <button id="yesButton" onclick="celebrate()">Yes</button>
            <button id="noButton" onclick="reject()" ontouchstart="reject()">No</button>
        </div>
    </div>

    <div id="success-page" class="hidden">
        <img src="https://media.tenor.com/7vGv1uX-N70AAAAi/peach-and-goma-kiss.gif" alt="Happy Kiss">
        <h1>Yay! See you on the 14th! ü•∞</h1>
        <p style="color: #d02090;">I love you! ‚ù§Ô∏è</p>
    </div>

    <script>
        let yesSize = 1;
        let noClickCount = 0;
        const phrases = ["No", "Pakka? Soch lo", "Jaan please", "Fir se soch lo", "I'm gonna cry...", "Don't do this! üò≠", "REALLY sure?"];

        function startExperience() {
            document.getElementById('music-overlay').classList.add('hidden');
            document.getElementById('question-page').classList.remove('hidden');
            document.getElementById('bgMusic').play();
        }

        function reject() {
            noClickCount++;
            const yesBtn = document.getElementById('yesButton');
            const noBtn = document.getElementById('noButton');
            
            // Make Yes button bigger
            yesSize += 0.4;
            yesBtn.style.transform = `scale(${yesSize})`;
            
            // Change No button text
            noBtn.innerText = phrases[Math.min(noClickCount, phrases.length - 1)];
            
            // Teleport No button for Android compatibility
            const x = Math.random() * (window.innerWidth - 100);
            const y = Math.random() * (window.innerHeight - 100);
            noBtn.style.position = 'fixed';
            noBtn.style.left = x + 'px';
            noBtn.style.top = y + 'px';
        }

        function celebrate() {
            document.getElementById('question-page').classList.add('hidden');
            document.getElementById('success-page').classList.remove('hidden');
            confetti({ particleCount: 150, spread: 70, origin: { y: 0.6 } });
        }
    </script>
</body>
</html>
